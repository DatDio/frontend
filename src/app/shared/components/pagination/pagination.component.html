<div class="pagination-wrapper">
  <div class="pagination-row d-flex align-items-center justify-content-between gap-2 flex-wrap">
    
    <div class="page-size-selector d-flex align-items-center gap-2">
      <label class="form-label mb-0 fw-semibold" for="page-size-select">Items per page:</label>
      <select 
        id="page-size-select"
        class="form-select form-select-sm" 
        style="width: auto"
        [(ngModel)]="config.pageSize"
        (change)="onPageSizeChange(config.pageSize)">
        @for (option of pageSizeOptions; track option.value) {
          <option [value]="option.value">{{ option.label }}</option>
        }
      </select>
    </div>

    <nav class="pagination-nav flex-grow-1">
      <ul class="pagination mb-0 justify-content-center">
        <li class="page-item" [class.disabled]="config.currentPage === 0">
          <button class="page-link" (click)="onPreviousPage()" [disabled]="config.currentPage === 0">
            <i class="bi bi-chevron-left"></i>
          </button>
        </li>
        
        @if (shouldShowStartEllipsis()) {
          <li class="page-item">
            <button class="page-link" (click)="onPageClick(0)">1</button>
          </li>
          @if (visiblePages[0] > 1) {
            <li class="page-item disabled">
              <span class="page-link">…</span>
            </li>
          }
        }

        @for (page of visiblePages; track page) {
          <li class="page-item" [class.active]="page === config.currentPage">
            <button class="page-link" (click)="onPageClick(page)">{{ page + 1 }}</button>
          </li>
        }

        @if (shouldShowEndEllipsis()) {
          <li class="page-item disabled">
            <span class="page-link">…</span>
          </li>
          <li class="page-item">
            <button class="page-link" (click)="onPageClick(config.totalPages - 1)">{{ config.totalPages }}</button>
          </li>
        }

        <li class="page-item" [class.disabled]="config.currentPage >= config.totalPages - 1">
          <button class="page-link" (click)="onNextPage()" [disabled]="config.currentPage >= config.totalPages - 1">
            <i class="bi bi-chevron-right"></i>
          </button>
        </li>
      </ul>
    </nav>

    <div class="go-to-page d-flex align-items-center gap-2">
      <span class="text-muted small fw-semibold">Go to:</span>
      <input 
        type="number" 
        class="form-control form-control-sm" 
        style="width: 70px"
        [(ngModel)]="searchPageInput"
        (keyup.enter)="onSearchPage()"
        [placeholder]="(config.currentPage + 1).toString()"
        min="1"
        [max]="config.totalPages">
      <button 
        class="btn btn-sm btn-primary" 
        (click)="onSearchPage()"
        [disabled]="!searchPageInput">
        <i class="bi bi-arrow-right"></i>
      </button>
    </div>
  </div>
</div>